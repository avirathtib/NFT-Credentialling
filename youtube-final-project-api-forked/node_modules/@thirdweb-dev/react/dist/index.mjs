var Je=Object.create;var Z=Object.defineProperty,Ye=Object.defineProperties,$e=Object.getOwnPropertyDescriptor,et=Object.getOwnPropertyDescriptors,tt=Object.getOwnPropertyNames,z=Object.getOwnPropertySymbols,nt=Object.getPrototypeOf,re=Object.prototype.hasOwnProperty,ve=Object.prototype.propertyIsEnumerable;var Ce=(e,t,n)=>t in e?Z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f=(e,t)=>{for(var n in t||(t={}))re.call(t,n)&&Ce(e,n,t[n]);if(z)for(var n of z(t))ve.call(t,n)&&Ce(e,n,t[n]);return e},A=(e,t)=>Ye(e,et(t)),r=(e,t)=>Z(e,"name",{value:t,configurable:!0}),X=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(t,n)=>(typeof require!="undefined"?require:t)[n]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var I=(e,t)=>{var n={};for(var o in e)re.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&z)for(var o of z(e))t.indexOf(o)<0&&ve.call(e,o)&&(n[o]=e[o]);return n};var rt=(e,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of tt(t))!re.call(e,i)&&i!==n&&Z(e,i,{get:()=>t[i],enumerable:!(o=$e(t,i))||o.enumerable});return e};var J=(e,t,n)=>(n=e!=null?Je(nt(e)):{},rt(t||!e||!e.__esModule?Z(n,"default",{value:e,enumerable:!0}):n,e));import{ChainId as V}from"@thirdweb-dev/sdk";import{ethers as ot,utils as it}from"ethers";import B from"tiny-invariant";import{Connector as at,normalizeChainId as st}from"wagmi";var we={[V.Mainnet]:"https://safe-transaction.mainnet.gnosis.io",[V.Avalanche]:"https://safe-transaction.avalanche.gnosis.io",[V.Polygon]:"https://safe-transaction.polygon.gnosis.io",[V.Goerli]:"https://safe-transaction.goerli.gnosis.io",[V.Rinkeby]:"https://safe-transaction.rinkeby.gnosis.io"},be=typeof window>"u",R=class extends at{id="gnosis";ready=be;name="Gnosis Safe";constructor(t){var n;t.chains=(n=t.chains)==null?void 0:n.filter(o=>o.id in we),super(A(f({},t),{options:void 0})),be||(this.ready=!0)}async connect(){this.safeSigner=await this.createSafeSigner();let t=await this.getAccount(),n=await this.getProvider(),o=await this.getChainId();return{account:t,provider:n,chain:{id:o,unsupported:this.isChainUnsupported(o)}}}async createSafeSigner(){var v,C,E;let t=await((v=this.previousConnector)==null?void 0:v.getSigner()),n=(C=this.config)==null?void 0:C.safeAddress,o=(E=this.config)==null?void 0:E.safeChainId;B(t,"cannot create Gnosis Safe signer without a personal signer");let i=await t.getChainId();B(i===o,"chainId of personal signer has to match safe chainId"),B(n,"safeConfig.safeAddress is required, did you forget to call setSafeConfig?"),B(o,"safeConfig.safeChainId is required, did you forget to call setSafeConfig?");let a=we[o];B(a,"Chain not supported");let[s,c,p]=await Promise.all([Promise.resolve().then(()=>J(X("@gnosis.pm/safe-ethers-adapters"))),Promise.resolve().then(()=>J(X("@gnosis.pm/safe-core-sdk"))),Promise.resolve().then(()=>J(X("@gnosis.pm/safe-ethers-lib")))]),g=new p.default({ethers:ot,signer:t}),d=await c.default.create({ethAdapter:g,safeAddress:n}),h=new s.SafeService(a);return new s.SafeEthersSigner(d,h,t.provider)}async disconnect(){this.config=void 0,this.safeSigner=void 0,this.previousConnector=void 0}async getAccount(){return await(await this.getSigner()).getAddress()}async getChainId(){return(await this.getSigner()).getChainId()}async getProvider(){return(await this.getSigner()).provider}async getSigner(){return this.safeSigner||(this.safeSigner=await this.createSafeSigner()),this.safeSigner}async isAuthorized(){try{return!!await this.getAccount()}catch{return!1}}onAccountsChanged(t){t.length===0?this.emit("disconnect"):this.emit("change",{account:it.getAddress(t[0])})}isChainUnsupported(t){var n;return(n=this.config)!=null&&n.safeChainId?t===this.config.safeChainId:!1}onChainChanged(t){let n=st(t),o=this.isChainUnsupported(n);this.emit("change",{chain:{id:n,unsupported:o}})}onDisconnect(){this.emit("disconnect")}setConfiguration(t,n){this.previousConnector=t,this.config=n}};r(R,"GnosisSafeConnector");import{providers as ct,utils as ut}from"ethers";import oe from"tiny-invariant";import{Connector as lt,normalizeChainId as dt}from"wagmi";var ie=typeof window>"u",H=class extends lt{id="magic";name="Magic";ready=ie;getConfiguration(){if(ie)return;let t=window.localStorage.getItem("-magic-link:configuration");return t&&(this.configuration=JSON.parse(t)),this.configuration}constructor(t){if(super(A(f({},t),{options:t==null?void 0:t.options})),this.options=t.options,!ie){if(this.ready=!0,this.options.doNotAutoConnect||!this.getConfiguration())return;this.connect(!0)}}async connect(t){let c=this.options,{apiKey:n,doNotAutoConnect:o,rpcUrls:i}=c,a=I(c,["apiKey","doNotAutoConnect","rpcUrls"]),s=this.getConfiguration();try{return oe(s,"did you forget to set the configuration via: setConfiguration()?"),t&&(s.showUI=!1),Promise.resolve().then(()=>J(X("magic-sdk"))).then(async p=>{this.magic=new p.Magic(n,a),await this.magic.auth.loginWithMagicLink(s);let g=this.getProvider();g.on&&(g.on("accountsChanged",this.onAccountsChanged),g.on("chainChanged",this.onChainChanged),g.on("disconnect",this.onDisconnect));let d=await this.getAccount(),h=await this.getChainId();return{account:d,provider:g,chain:{id:h,unsupported:this.isChainUnsupported(h)}}})}catch(p){if(!t)throw p;return{account:void 0,provider:void 0,chain:void 0}}}async disconnect(){let t=this.getProvider();t!=null&&t.removeListener&&(t.removeListener("accountsChanged",this.onAccountsChanged),t.removeListener("chainChanged",this.onChainChanged),t.removeListener("disconnect",this.onDisconnect)),this.setConfiguration(void 0)}async switchChain(t){oe(!this.isChainUnsupported(t),"chain is not supported");let n=this.getProvider();return n!=null&&n.removeListener&&(n.removeListener("accountsChanged",this.onAccountsChanged),n.removeListener("chainChanged",this.onChainChanged),n.removeListener("disconnect",this.onDisconnect)),this.options.network={chainId:t,rpcUrl:this.options.rpcUrls[t]},await this.connect(),this.onChainChanged(t),this.chains.find(o=>o.id===t)}async getAccount(){return await(await this.getSigner()).getAddress()}async getChainId(){return await(await this.getSigner()).getChainId()}getProvider(){return oe(this.magic,"connector is not initialized"),new ct.Web3Provider(this.magic.rpcProvider)}async getSigner(){return this.magic||await this.connect(),this.getProvider().getSigner()}async isAuthorized(){try{return!!await this.getAccount()}catch{return!1}}onAccountsChanged(t){t.length===0?this.emit("disconnect"):this.emit("change",{account:ut.getAddress(t[0])})}isChainUnsupported(t){return!this.chains.some(n=>n.id===t)}onChainChanged(t){let n=dt(t),o=this.isChainUnsupported(n);this.emit("change",{chain:{id:n,unsupported:o}})}onDisconnect(){this.emit("disconnect")}setConfiguration(t){t?(this.configuration=t,window.localStorage.setItem("-magic-link:configuration",JSON.stringify(t))):(this.configuration=void 0,window.localStorage.removeItem("-magic-link:configuration"))}};r(H,"MagicConnector");import{ChainId as q}from"@thirdweb-dev/sdk";var pt={mainnet:{id:q.Mainnet,name:"Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:["https://mainnet.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"],blockExplorers:[{name:"Etherscan",url:"https://etherscan.io"}]},rinkeby:{id:q.Rinkeby,name:"Rinkeby",nativeCurrency:{name:"Rinkeby Ether",symbol:"rETH",decimals:18},rpcUrls:["https://rinkeby.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"],blockExplorers:[{name:"Etherscan",url:"https://rinkeby.etherscan.io"}],testnet:!0},goerli:{id:q.Goerli,name:"Goerli",nativeCurrency:{name:"Goerli Ether",symbol:"gETH",decimals:18},rpcUrls:["https://goerli.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"],blockExplorers:[{name:"Etherscan",url:"https://goerli.etherscan.io"}],testnet:!0},polygonMainnet:{id:q.Polygon,name:"Polygon Mainnet",nativeCurrency:{name:"Matic",symbol:"MATIC",decimals:18},rpcUrls:["https://polygon-rpc.com","https://rpc-mainnet.matic.network","https://matic-mainnet.chainstacklabs.com","https://rpc-mainnet.maticvigil.com","https://rpc-mainnet.matic.quiknode.pro","https://matic-mainnet-full-rpc.bwarelabs.com"],blockExplorers:[{name:"Polygonscan",url:"https://polygonscan.com"}]},polygonTestnetMumbai:{id:q.Mumbai,name:"Polygon Testnet Mumbai",nativeCurrency:{name:"Matic",symbol:"MATIC",decimals:18},rpcUrls:["https://matic-mumbai.chainstacklabs.com","https://rpc-mumbai.maticvigil.com","https://matic-testnet-archive-rpc.bwarelabs.com"],blockExplorers:[{name:"Polygonscan",url:"https://mumbai.polygonscan.com"}],testnet:!0},avalanche:{id:q.Avalanche,name:"Avalanche",nativeCurrency:{name:"AVAX",symbol:"AVAX",decimals:18},rpcUrls:["https://api.avax.network/ext/bc/C/rpc","https://rpc.ankr.com/avalanche"],blockExplorers:[{name:"SnowTrace",url:"https://snowtrace.io/"}],testnet:!1},fantom:{id:q.Fantom,name:"Fantom Opera",nativeCurrency:{name:"Fantom",symbol:"FTM",decimals:18},rpcUrls:["https://rpc.ftm.tools"],blockExplorerUrls:[{name:"FTMScan",url:"https://ftmscan.com/"}],testnet:!1}},Y=Object.values(pt);import{Signer as mt}from"ethers";import{useEffect as Se,useRef as Ae}from"react";import{useAccount as ft,useNetwork as ht,useSigner as gt}from"wagmi";function Ee(){var g,d,h,v,C;let[e,t]=gt(),[n]=ft(),[o]=ht(),i=Ae(null),a=(g=n.data)==null?void 0:g.address,s=(d=o.data.chain)==null?void 0:d.id,c=xe((h=n.data)==null?void 0:h.address),p=xe((C=(v=o.data)==null?void 0:v.chain)==null?void 0:C.id);return Se(()=>{if(a!==c||s!==p)if(i.current)i.current=t().finally(()=>{i.current=null});else return},[a,s,c,p]),mt.isSigner(e.data)?e.data:void 0}r(Ee,"useSigner");function xe(e){let t=Ae();return Se(()=>{t.current=e},[e]),t.current}r(xe,"usePrevious");import{ThirdwebSDK as yt}from"@thirdweb-dev/sdk";import W,{createContext as Ct,useEffect as vt,useMemo as F}from"react";import{QueryClient as wt,QueryClientProvider as bt}from"react-query";import ae from"tiny-invariant";import{WagmiProvider as xt,useProvider as St}from"wagmi";import{CoinbaseWalletConnector as At}from"wagmi/connectors/coinbaseWallet";import{InjectedConnector as Et}from"wagmi/connectors/injected";import{WalletConnectConnector as kt}from"wagmi/connectors/walletConnect";function $(){return $=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},$.apply(this,arguments)}r($,"_extends");var It=Y.reduce((e,t)=>A(f({},e),{[t.id]:t.rpcUrls[0]}),{}),Tt={name:"thirdweb powered dApp"},Pt=["metamask","walletConnect","walletLink"],Vn=r(({sdkOptions:e,chainRpc:t=It,supportedChains:n=Y.map(d=>d.id),walletConnectors:o=Pt,dAppMeta:i=Tt,desiredChainId:a,storageInterface:s,queryClient:c,autoConnect:p=!0,children:g})=>{let d=F(()=>n.map(y=>typeof y=="number"?Y.find(S=>S.id===y):y).filter(y=>y!==void 0),[n]),h=F(()=>d.reduce((y,S)=>(y[S.id]=S.id in t&&t[S.id]||S.rpcUrls[0],y),{}),[t,d]),v=F(()=>{let y={name:i.name,url:i.url||"",icons:[i.logoUrl||""],description:i.description||""},S={appName:i.name,appLogoUrl:i.logoUrl,darkMode:i.isDarkMode};return{autoConnect:p,connectorStorageKey:"tw:provider:connectors",connectors:({chainId:L})=>o.map(m=>{if(typeof m=="string"&&(m==="injected"||m==="metamask")||typeof m=="object"&&(m.name==="injected"||m.name==="metamask"))return new Et({options:typeof m=="string"?{shimDisconnect:!0,shimChainChangedDisconnect:!0}:m.options,chains:d});if(typeof m=="string"&&m==="walletConnect"||typeof m=="object"&&m.name==="walletConnect")return new kt({options:typeof m=="string"?{chainId:L,rpc:h,clientMeta:y,qrcode:!0}:f({chainId:L,rpc:h,clientMeta:y,qrcode:!0},m.options),chains:d});if(typeof m=="string"&&(m==="coinbase"||m==="walletLink")||typeof m=="object"&&(m.name==="coinbase"||m.name==="walletLink")){let G=h[L||a||1];return new At({chains:d,options:typeof m=="string"?A(f({},S),{jsonRpcUrl:G}):f(A(f({},S),{jsonRpcUrl:G}),m.options)})}if(typeof m=="object"&&m.name==="magic"){let G=h[L||a||1];return new H({chains:d,options:A(f({},m.options),{network:{rpcUrl:G,chainId:a||1},rpcUrls:h})})}return typeof m=="string"&&m==="gnosis"||typeof m=="object"&&m.name==="gnosis"?new R({chains:d}):null}).filter(m=>m!==null)}},[o,d,i]),C=h[a||-1],E=F(()=>{var S;let y=e;return A(f({},y),{readonlySettings:A(f({},(y==null?void 0:y.readonlySettings)||{}),{rpcUrl:(S=y==null?void 0:y.readonlySettings)!=null&&S.rpcUrl?y.readonlySettings.rpcUrl:C})})},[e,C]),D=F(()=>c||new wt,[c]);return W.createElement(bt,{client:D},W.createElement(xt,$({},v),W.createElement(Mt,{desiredChainId:a,sdkOptions:E,storageInterface:s},g)))},"ThirdwebProvider"),Mt=r(n=>{var o=n,{children:e}=o,t=I(o,["children"]);let i=St(),a=Ee();return W.createElement(Ut,$({signer:a,provider:i},t),e)},"ThirdwebSDKProviderWagmiWrapper"),ee=Ct({desiredChainId:-1}),Ut=r(({sdkOptions:e,desiredChainId:t,storageInterface:n,provider:o,signer:i,children:a})=>{let s=F(()=>{if(!t||typeof window>"u")return;let p=new yt(o,e,n);return p._chainId=t,p},[o,e,n,t]);vt(()=>{i&&s&&s._chainId===t&&s.updateSignerOrProvider(i)},[i,s,t]);let c=F(()=>({sdk:s,desiredChainId:t||-1,_inProvider:!0}),[s]);return W.createElement(ee.Provider,{value:c},a)},"ThirdwebSDKProvider");function _(){let e=W.useContext(ee);return ae(e._inProvider,"useSDK must be called from within a ThirdwebProvider, did you forget to wrap your app in a <ThirdwebProvider />?"),e.sdk}r(_,"useSDK");function ke(){let e=W.useContext(ee);return ae(e._inProvider,"useDesiredChainId must be called from within a ThirdwebProvider, did you forget to wrap your app in a <ThirdwebProvider />?"),e.desiredChainId}r(ke,"useDesiredChainId");function T(){var t;let e=W.useContext(ee);return ae(e._inProvider,"useActiveChainId must be called from within a ThirdwebProvider, did you forget to wrap your app in a <ThirdwebProvider />?"),(t=e.sdk)==null?void 0:t._chainId}r(T,"useActiveChainId");function x(e,t){let n=_();if(!(!n||!t||!e))return n.getBuiltInContract(t,e)}r(x,"useBuiltinContract");function Zn(e){return x("edition-drop",e)}r(Zn,"useEditionDrop");function Yn(e){return x("edition",e)}r(Yn,"useEdition");function tr(e){return x("nft-drop",e)}r(tr,"useNFTDrop");function or(e){return x("marketplace",e)}r(or,"useMarketplace");function sr(e){return x("nft-collection",e)}r(sr,"useNFTCollection");function lr(e){return x("pack",e)}r(lr,"usePack");function mr(e){return x("token",e)}r(mr,"useToken");function gr(e){return x("token-drop",e)}r(gr,"useTokenDrop");function vr(e){return x("vote",e)}r(vr,"useVote");function xr(e){return x("split",e)}r(xr,"useSplit");import{useConnect as Lt}from"wagmi";function M(){return Lt()}r(M,"useConnect");import{useAccount as Nt}from"wagmi";function Qr(e){let t=f({reconnectAfterGnosis:!0},e),[,n]=M(),[o,i]=Nt();return async()=>{var s;let a=((s=o.data)==null?void 0:s.connector)instanceof R&&o.data.connector.previousConnector||void 0;if(t.reconnectAfterGnosis&&a)try{return await n(a)}catch(c){return console.error("failed to re-connect to previous connector",c),i()}return i()}}r(Qr,"useDisconnect");import{useAccount as Dt}from"wagmi";function se(){var t;let[e]=Dt();return(t=e.data)==null?void 0:t.address}r(se,"useAddress");import{ThirdwebSDK as _t}from"@thirdweb-dev/sdk";import{useMemo as Wt}from"react";function Gr(e,t,n){return Wt(()=>new _t(e,A(f({},t),{readonlySettings:A(f({},t==null?void 0:t.readonlySettings),{rpcUrl:e})}),n),[e,t])}r(Gr,"useReadonlySDK");import{detect as Rt}from"detect-browser";function qt(e){return Rt(e)}r(qt,"detectEnv");function ce(){let e=ue();return e?e.toLowerCase().includes("android"):!1}r(ce,"isAndroid");function Ft(){let e=ue();return e?e.toLowerCase().includes("ios")||e.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1:!1}r(Ft,"isIOS");function ue(){let e=qt();return e!=null&&e.os?e.os:void 0}r(ue,"detectOS");function Ie(){return ue()?ce()||Ft():!1}r(Ie,"isMobile");import jt from"tiny-invariant";function eo(){var c;let[e,t]=M();if(e.loading)return()=>Promise.reject("Metamask connector not ready to be used, yet");let n=typeof window<"u"&&((c=window.ethereum)==null?void 0:c.isMetaMask),o=Ie()&&!n,i=e.data.connectors.find(p=>p.id==="injected"),a=e.data.connectors.find(p=>p.id==="walletConnect"),s=(o?a:i)||i;return jt(s,"No connector found, please make sure you provide the InjectedConnector to your <ThirdwebProvider />"),async()=>{if(!n){let p=`https://metamask.app.link/dapp/${window.location.host+window.location.pathname+window.location.search}`;if(o&&s.id==="walletConnect")try{p=(await s.getProvider()).connector.uri,p=ce()?p:`https://metamask.app.link/dapp/${window.location.host+window.location.pathname+window.location.search}`}catch(g){console.warn("failed to get provider.connector.uri",g)}return window.open(p,"_blank"),Promise.resolve({error:new Error("metamask not injected")})}return await t(s)}}r(eo,"useMetamask");import Qt from"tiny-invariant";function oo(){let[e,t]=M();if(e.loading)return()=>Promise.reject("WalletConnect connector not ready to be used, yet");let n=e.data.connectors.find(o=>o.id==="walletConnect");return Qt(n,"WalletConnect connector not found, please make sure it is provided to your <ThirdwebProvider />"),()=>t(n)}r(oo,"useWalletConnect");import Ot from"tiny-invariant";function Kt(){let[e,t]=M();if(e.loading)return()=>Promise.reject("Coinbase connector not ready to be used, yet");let n=e.data.connectors.find(o=>o.id==="coinbasewallet");return Ot(n,"Coinbase connector not found, please make sure it is provided to your <ThirdwebProvider />"),()=>t(n)}r(Kt,"useCoinbaseWallet");function co(){return Kt()}r(co,"useWalletLink");import{utils as Vt}from"ethers";import te from"tiny-invariant";function fo(){let[e,t]=M();if(e.loading)return()=>Promise.reject("Gnosis connector not ready to be used, yet");let n=e.data.connectors.find(o=>o.id==="gnosis");return te(n,"Gnosis connector not found, please make sure it is provided to your <ThirdwebProvider />"),async o=>{let i=e.data.connector,a=await(i==null?void 0:i.getChainId());return te(!!i,"Cannot connect to Gnosis Safe without first being connected to a personal wallet."),te(a===o.safeChainId,"Gnosis safe chain id must match personal wallet chain id."),te(Vt.isAddress(o.safeAddress),"Gnosis safe address must be a valid address."),n.setConfiguration(i,o),t(n)}}r(fo,"useGnosis");import Bt from"tiny-invariant";function Co(){let[e,t]=M();if(e.loading)return()=>Promise.reject("Magic connector not ready to be used, yet");let n=e.data.connectors.find(o=>o.id==="magic");return Bt(n,"Magic connector not found, please make sure it is provided to your <ThirdwebProvider />"),o=>(n.setConfiguration(o),t(n))}r(Co,"useMagic");import{useNetwork as Ht}from"wagmi";function Te(){var e;return(e=Ht()["0"].data.chain)==null?void 0:e.id}r(Te,"useChainId");function Ao(){let e=ke(),t=Te();return e===-1||!t?!1:e!==t}r(Ao,"useNetworkMismatch");import{useNetwork as Gt}from"wagmi";function Io(){return Gt()}r(Io,"useNetwork");import{defaultChains as Ca,defaultL2Chains as va,useAccount as wa}from"wagmi";import{ChainId as xa,IpfsStorage as Sa}from"@thirdweb-dev/sdk";var zt="https://gateway.ipfscdn.io/ipfs/",Pe={gatewayUrl:zt};import Zt from"mime/lite";function Me(e,t=Pe){if(!!e)return e.startsWith("ipfs://")?e.replace("ipfs://",t.gatewayUrl):e}r(Me,"resolveIpfsUri");async function Ue(e){var o;if(!e)return;let t=Zt.getType(e);if(t)return t;let n=await fetch(e,{method:"HEAD"});if(n.ok&&n.headers.has("content-type"))return(o=n.headers.get("content-type"))!=null?o:void 0}r(Ue,"resolveMimeType");var le;function Xt(e){return typeof window>"u"||!e||!e.startsWith("video/")?"":(le||(le=document.createElement("video")),le.canPlayType(e))}r(Xt,"supportsVideoType");function Le(e){return!!Xt(e)}r(Le,"shouldRenderVideoTag");var de;function Jt(e){return typeof window>"u"||!e||!e.startsWith("audio/")?"":(de||(de=document.createElement("audio")),de.canPlayType(e))}r(Jt,"supportsAudioType");function Ne(e){return!!Jt(e)}r(Ne,"shouldRenderAudioTag");function pe(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}r(pe,"mergeRefs");import N from"react";function j(){return j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},j.apply(this,arguments)}r(j,"_extends");var De=r(e=>N.createElement("svg",j({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),N.createElement("circle",{cx:"9",cy:"28.5",r:"1.5",fill:"currentColor"}),N.createElement("path",{fill:"currentColor",d:"M10 25H8v-4h2a2 2 0 0 0 0-4H8a2.002 2.002 0 0 0-2 2v.5H4V19a4.005 4.005 0 0 1 4-4h2a4 4 0 0 1 0 8Z"}),N.createElement("path",{fill:"currentColor",d:"m27.7 9.3l-7-7A.908.908 0 0 0 20 2H10a2.006 2.006 0 0 0-2 2v8h2V4h8v6a2.006 2.006 0 0 0 2 2h6v16H14v2h12a2.006 2.006 0 0 0 2-2V10a.91.91 0 0 0-.3-.7ZM20 10V4.4l5.6 5.6Z"})),"CarbonDocumentUnknown"),_e=r(e=>N.createElement("svg",j({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),N.createElement("path",{fill:"currentColor",d:"M29 31a.999.999 0 0 1-.625-.22L23.65 27H20a1 1 0 0 1-1-1v-5a1 1 0 0 1 1-1h3.65l4.726-3.78A1 1 0 0 1 30 17v13a1 1 0 0 1-1 1Zm-8-6h3a1 1 0 0 1 .625.22L28 27.92v-8.84l-3.376 2.7A1 1 0 0 1 24 22h-3Z"}),N.createElement("path",{fill:"currentColor",d:"M16 28H8V4h8v6a2.006 2.006 0 0 0 2 2h6v3h2v-5a.91.91 0 0 0-.3-.7l-7-7A.909.909 0 0 0 18 2H8a2.006 2.006 0 0 0-2 2v24a2.006 2.006 0 0 0 2 2h8Zm2-23.6l5.6 5.6H18Z"})),"CarbonDocumentAudio"),We=r(e=>N.createElement("svg",j({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),N.createElement("path",{fill:"currentColor",d:"M12 6h-2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm10 0h-2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2z"})),"CarbonPauseFilled"),Re=r(e=>N.createElement("svg",j({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),N.createElement("path",{fill:"currentColor",d:"M7 28a1 1 0 0 1-1-1V5a1 1 0 0 1 1.482-.876l20 11a1 1 0 0 1 0 1.752l-20 11A1 1 0 0 1 7 28Z"})),"CarbonPlayFilledAlt");import l,{useEffect as Fe,useMemo as Yt,useRef as je,useState as Q}from"react";import $t from"react-cool-dimensions";import{useQuery as en}from"react-query";function P(){return P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},P.apply(this,arguments)}r(P,"_extends");var me=r(({onClick:e,isPlaying:t})=>{let[n,o]=Q(!1),i=r(()=>o(!0),"onMouseEnter"),a=r(()=>o(!1),"onMouseLeave"),s=r(()=>o(!1),"onMouseDown"),c=r(()=>o(!0),"onMouseUp");return l.createElement("button",{style:f({position:"absolute",bottom:0,right:0,transform:"translate(-25%, -25%)",maxWidth:"32px",width:"8%",minWidth:"24px",aspectRatio:"1",zIndex:3,backgroundColor:"#fff",color:"rgb(138, 147, 155)",display:"grid",placeItems:"center",borderRadius:"50%",border:"1px solid rgb(229, 232, 235)",cursor:"pointer"},n?{color:"rgb(53, 56, 64)",boxShadow:"rgb(4 17 29 / 25%) 0px 0px 8px 0px"}:{}),onClick:e,onMouseEnter:i,onMouseLeave:a,onMouseDown:s,onMouseUp:c},t?l.createElement(We,{style:{width:"66%",height:"66%"}}):l.createElement(Re,{style:{width:"66%",height:"66%"}}))},"PlayButton"),tn=l.forwardRef((h,d)=>{var v=h,{src:e,alt:t,poster:n,requireInteraction:o,children:i,style:a,width:s,height:c,controls:p}=v,g=I(v,["src","alt","poster","requireInteraction","children","style","width","height","controls"]);let C=je(null),[E,D]=Q(!o),[y,S]=Q(!0);return Fe(()=>{C.current&&(E?C.current.play():(C.current.pause(),C.current.currentTime=0))},[E]),l.createElement("div",P({style:f({position:"relative"},a)},g),l.createElement("video",{ref:pe([C,d]),src:e,poster:n,loop:!0,playsInline:!0,muted:y,preload:n?"metadata":"auto",onCanPlay:()=>{var L;E&&((L=C.current)==null||L.play())},width:s,height:c,controls:p,style:{height:"100%",width:"100%",objectFit:"contain",zIndex:1,transition:"opacity .5s",opacity:n?E?1:0:1}}),n&&l.createElement("img",{src:n,style:{objectFit:"contain",pointerEvents:"none",position:"absolute",width:"100%",height:"100%",zIndex:2,transition:"opacity .5s",opacity:E?0:1,top:0,left:0,right:0,bottom:0}}),l.createElement(me,{onClick:()=>{D(L=>!L),S(!1)},isPlaying:E}))}),nn=l.forwardRef((h,d)=>{var v=h,{src:e,alt:t,poster:n,requireInteraction:o,children:i,style:a,height:s,width:c,controls:p}=v,g=I(v,["src","alt","poster","requireInteraction","children","style","height","width","controls"]);let C=je(null),[E,D]=Q(!1),[y,S]=Q(!0);return Fe(()=>{C.current&&(E?C.current.play():(C.current.pause(),C.current.currentTime=0))},[E]),l.createElement("div",P({style:f({position:"relative"},a)},g),n?l.createElement("img",{height:s,width:c,src:n,style:{height:"100%",width:"100%",pointerEvents:"none",objectFit:"contain"}}):l.createElement("div",{style:{width:"100%",height:"100%",display:"grid",placeItems:"center",pointerEvents:"none",backgroundColor:"#fff",color:"rgb(138, 147, 155)"}},l.createElement(_e,{style:{height:"64px",width:"64px"}})),l.createElement(me,{onClick:()=>{D(L=>!L),S(!1)},isPlaying:E}),l.createElement("audio",{ref:pe([C,d]),src:e,loop:!0,playsInline:!0,muted:y,style:{position:"absolute",opacity:0,pointerEvents:"none",zIndex:-1,visibility:"hidden"}}))}),rn=l.forwardRef((h,d)=>{var v=h,{src:e,alt:t,poster:n,requireInteraction:o,children:i,style:a,height:s,width:c,controls:p}=v,g=I(v,["src","alt","poster","requireInteraction","children","style","height","width","controls"]);let{observe:C,width:E}=$t(),[D,y]=Q(!o);return E<300?l.createElement("div",{ref:C},l.createElement(Qe,P({style:a,src:e,alt:t},g))):l.createElement("div",P({style:f({position:"relative"},a)},g,{ref:C}),l.createElement("iframe",{src:D?e:void 0,ref:d,style:{objectFit:"contain",zIndex:1,height:"100%",width:"100%",transition:"opacity .5s",opacity:n?D?1:0:1}}),n&&l.createElement("img",{src:n,style:{objectFit:"contain",pointerEvents:"none",position:"absolute",width:"100%",height:"100%",zIndex:2,transition:"opacity .5s",opacity:D?0:1,top:0,left:0,right:0,bottom:0}}),l.createElement(me,{onClick:()=>{y(S=>!S)},isPlaying:D}))}),Qe=l.forwardRef((h,d)=>{var v=h,{src:e,alt:t,poster:n,requireInteraction:o,children:i,style:a,height:s,width:c,controls:p}=v,g=I(v,["src","alt","poster","requireInteraction","children","style","height","width","controls"]);return l.createElement("div",P({style:f({position:"relative"},a)},g),l.createElement("div",{style:{width:"100%",height:"100%",display:"grid",placeItems:"center",backgroundColor:"#fff",color:"rgb(138, 147, 155)"}},l.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"8px",alignItems:"center",flexWrap:"nowrap"}},l.createElement(De,{style:{maxWidth:"128px",minWidth:"48px",width:"50%",aspectRatio:"1"}}),l.createElement("a",{rel:"noopener noreferrer",style:{textDecoration:"underline",color:"rgb(138, 147, 155)"},href:e,target:"_blank",ref:d},t||"File"))))}),Oe=l.forwardRef((p,c)=>{var g=p,{children:e,src:t,poster:n,alt:o,requireInteraction:i=!1,style:a}=g,s=I(g,["children","src","poster","alt","requireInteraction","style"]);let d=f({objectFit:"contain"},a),h=qe(t),v=qe(n);if(h.mimeType){if(h.mimeType==="text/html")return l.createElement(rn,P({style:d,src:h.url,poster:v.url,requireInteraction:i},s));if(Le(h.mimeType))return l.createElement(tn,P({style:d,src:h.url,poster:v.url,requireInteraction:i},s));if(Ne(h.mimeType))return l.createElement(nn,P({style:d,src:h.url,poster:v.url,requireInteraction:i},s));if(h.mimeType.startsWith("image/"))return l.createElement("img",P({style:d,src:h.url,alt:o,ref:c},s))}else return l.createElement("img",P({style:d},s,{ref:c}));return l.createElement(Qe,P({style:d,src:h.url,alt:o,ref:c},s))});function qe(e){let t=Yt(()=>Me(e),[e]),n=en(["mime-type",t],()=>Ue(t),{enabled:!!t});return{url:t,mimeType:n.data}}r(qe,"useResolvedMediaType");import Ke from"react";function fe(){return fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},fe.apply(this,arguments)}r(fe,"_extends");var Go=Ke.forwardRef((o,n)=>{var i=o,{metadata:e}=i,t=I(i,["metadata"]);return Ke.createElement(Oe,fe({src:e.animation_url||e.image,poster:e.image,alt:e.name,ref:n},t))});import{constants as on}from"ethers";var Ve="tw-cache";function Be(e){return e[0]===Ve?e:[Ve,...e]}r(Be,"createCachekey");function k(e=on.AddressZero,t){return Be(["contract",e,...t])}r(k,"createContractCacheKey");function w(e,t){return u.network.active(t).concat(e)}r(w,"createCacheKeyWithNetwork");var u={network:{active:e=>Be(["chainId",e])},contract:{type:e=>k(e,["contract-type"]),publishMetadata:e=>k(e,["publish-metadata"]),typeAndPublishMetadata:e=>k(e,["contract-type-and-metadata"]),metadata:e=>k(e,["metadata"]),extractFunctions:e=>k(e,["extractFunctions"]),nft:{query:{all:(e,t)=>k(e,t?["query","all",t]:["query","all"]),totalSupply:e=>k(e,["query","totalSupply"])},drop:{getAllUnclaimed:(e,t)=>k(e,t?["getAllUnclaimed",t]:["getAllUnclaimed"]),totalUnclaimedSupply:e=>k(e,["totalUnclaimedSupply"]),totalClaimedSupply:e=>k(e,["totalClaimedSupply"])}},edition:{query:{all:(e,t)=>k(e,t?["query","all",t]:["query","all"]),getTotalCount:e=>k(e,["query","getTotalCount"])}},token:{totalSupply:e=>k(e,["totalSupply"]),balanceOf:(e,t)=>k(e,["balanceOf",t])},marketplace:{getAllListings:(e,t)=>k(e,t?["getAllListings",t]:["getAllListings"]),getActiveListings:(e,t)=>k(e,t?["getActiveListings",t]:["getActiveListings"])}}};import{useQuery as an}from"react-query";function b(e,t,n){let o=T(),i=A(f({},n),{enabled:!!(o&&(n==null?void 0:n.enabled))});return an(w(e,o),t,i)}r(b,"useQueryWithNetwork");import{SmartContract as sn}from"@thirdweb-dev/sdk";import{useQueryClient as he}from"react-query";async function He(e,t){if(!(!e||!t))try{return await t.resolveContractType(e)}catch{return"custom"}}r(He,"fetchContractType");async function Ge(e,t){if(!(!e||!t))return await(await t.getPublisher()).fetchContractMetadataFromAddress(e)}r(Ge,"fetchContractPublishMetadata");async function ge(e,t,n){if(!t||!n)return;let o=await e.fetchQuery(w(u.contract.type(t),n._chainId),()=>He(t,n),{staleTime:1/0});if(o!=="custom")return{contractType:o,pubishMetadata:null};let i=await e.fetchQuery(w(u.contract.publishMetadata(t),n._chainId),()=>Ge(t,n),{staleTime:1/0});return{contractType:o,pubishMetadata:i}}r(ge,"fetchContractTypeAndPublishMetadata");function ye(e,t,n){if(!(!t||!n||!e||!t.contractType)){if(t.contractType!=="custom")return n.getBuiltInContract(e,t.contractType);if(t.contractType==="custom"&&t.pubishMetadata)return n.getContractFromAbi(e,t.pubishMetadata.abi)}}r(ye,"getContractFromCombinedTypeAndPublishMetadata");function ai(e){let t=_();return b(u.contract.type(e),()=>He(e,t),{enabled:!!t&&!!e,staleTime:1/0})}r(ai,"useContractType");function si(e){let t=_();return b(u.contract.publishMetadata(e),()=>Ge(e,t),{enabled:!!t&&!!e,staleTime:1/0})}r(si,"useContractPublishMetadata");function cn(e){let t=_(),n=he();return b(u.contract.typeAndPublishMetadata(e),()=>ge(n,e,t),{enabled:!!t&&!!e,staleTime:1/0})}r(cn,"useContractTypeAndPublishMetadata");function ci(e){var i;let t=_(),n=cn(e);if(!e||!t||!((i=n.data)!=null&&i.contractType))return A(f({},n),{contract:void 0});let o=ye(e,n.data,t);return A(f({},n),{contract:o})}r(ci,"useContract");function ui(e){let t=_(),n=he(),o=T();return b(u.contract.metadata(e),async()=>{var a,s;let i=await n.fetchQuery(w(u.contract.typeAndPublishMetadata(e),o),()=>ge(n,e,t),{staleTime:1/0});return(s=(a=ye(e,i,t))==null?void 0:a.metadata)==null?void 0:s.get()},{enabled:!!e||!!t})}r(ui,"useContractMetadata");function li(e){let t=_(),n=he(),o=T();return b(u.contract.extractFunctions(e),async()=>{let i=await n.fetchQuery(w(u.contract.typeAndPublishMetadata(e),o),()=>ge(n,e,t),{staleTime:1/0}),a=ye(e,i,t);return a instanceof sn?a.publishedMetadata.extractFunctions():null},{enabled:!!e||!!t,staleTime:1/0})}r(li,"useContractFunctions");import{useMutation as un,useQueryClient as ln}from"react-query";import O from"tiny-invariant";function yi(e,t){let n=e==null?void 0:e.getAddress();return b(u.contract.edition.query.all(n,t),()=>{var o;return O(e,"No Contract instance provided"),O((o=e.query)==null?void 0:o.all,"Contract instance does not support query.all"),e.query.all(t)},{enabled:!!e||!n,keepPreviousData:!0})}r(yi,"useEditions");function Ci(e,t){let n=e==null?void 0:e.getAddress();return b(u.contract.edition.query.getTotalCount(n),()=>{var o,i;return O(e,"No Contract instance provided"),O((o=e.query)==null?void 0:o.getTotalCount,"Contract instance does not support query.getTotalCount"),(i=e.query)==null?void 0:i.getTotalCount()},{enabled:!!e||!t})}r(Ci,"useEditionTotalCount");function vi(e){let t=T(),n=e==null?void 0:e.getAddress(),o=ln();return un(async i=>{var p;let c=i,{to:a}=c,s=I(c,["to"]);return O(a,'No "to" address provided'),O((p=e==null?void 0:e.mint)==null?void 0:p.to,"contract does not support mint.to"),await e.mint.to(a,s)},{onSuccess:()=>Promise.all([o.invalidateQueries(w(u.contract.edition.query.all(n),t)),o.invalidateQueries(w(u.contract.edition.query.getTotalCount(n),t))])})}r(vi,"useMintEdition");import{Erc721 as ze}from"@thirdweb-dev/sdk";import{useMutation as dn,useQueryClient as pn}from"react-query";import U from"tiny-invariant";function Ii(e){if(!!e){if(e instanceof ze)return e;if("nft"in e&&e.nft instanceof ze)return e.nft}}r(Ii,"detectErc721Instance");function mn(e,t){let n=e==null?void 0:e.getAddress();return b(u.contract.nft.query.all(n,t),()=>{var o;return U(e,"No Contract instance provided"),U((o=e.query)==null?void 0:o.all,"Contract instance does not support query.all"),e.query.all(t)},{enabled:!!e||!n,keepPreviousData:!0})}r(mn,"useNFTs");function Ti(e){let t=e==null?void 0:e.getAddress();return b(u.contract.nft.query.totalSupply(t),()=>{var n;return U(e,"No Contract instance provided"),U((n=e.query)==null?void 0:n.totalSupply,"Contract instance does not support query.totalSupply"),e.query.totalSupply()},{enabled:!!e})}r(Ti,"useNFTSupply");function Pi(e,t){let n=e==null?void 0:e.getAddress();return b(u.contract.nft.drop.getAllUnclaimed(n,t),()=>(U(e,"No Contract instance provided"),U(e.getAllUnclaimed,"Contract instance does not support getAllUnclaimed"),e.getAllUnclaimed(t)))}r(Pi,"useUnclaimedNFTs");function Mi(e,t){return mn(e,t)}r(Mi,"useClaimedNFTs");function Ui(e){let t=e==null?void 0:e.getAddress();return b(u.contract.nft.drop.totalUnclaimedSupply(t),()=>(U(e,"No Contract instance provided"),U(e.totalUnclaimedSupply,"Contract instance does not support totalUnclaimedSupply"),e.totalUnclaimedSupply()))}r(Ui,"useUnclaimedNftSupply");function Li(e){let t=e==null?void 0:e.getAddress();return b(u.contract.nft.drop.totalClaimedSupply(t),()=>(U(e,"No Contract instance provided"),U(e.totalClaimedSupply,"Contract instance does not support totalClaimedSupply"),e.totalClaimedSupply()))}r(Li,"useClaimedNftSupply");function Ni(e){let t=T(),n=e==null?void 0:e.getAddress(),o=pn();return dn(async i=>{var c;let{to:a,metadata:s}=i;return U(a,'No "to" address provided'),U((c=e==null?void 0:e.mint)==null?void 0:c.to,"contract does not support mint.to"),await e.mint.to(a,s)},{onSuccess:()=>Promise.all([o.invalidateQueries(w(u.contract.nft.query.all(n),t)),o.invalidateQueries(w(u.contract.nft.query.totalSupply(n),t))])})}r(Ni,"useMintNFT");import{useMutation as Ze,useQueryClient as Xe}from"react-query";import K from"tiny-invariant";function Qi(e,t){let n=e==null?void 0:e.getAddress();return b(u.contract.marketplace.getAllListings(n,t),()=>(K(e,"No Contract instance provided"),e.getAllListings(t)),{enabled:!!e||!n,keepPreviousData:!0})}r(Qi,"useAllListings");function Oi(e,t){let n=e==null?void 0:e.getAddress();return b(u.contract.marketplace.getActiveListings(n,t),()=>(K(e,"No Contract instance provided"),e.getActiveListings(t)),{enabled:!!e||!n,keepPreviousData:!0})}r(Oi,"useActiveListings");function Ki(e){let t=T(),n=e==null?void 0:e.getAddress(),o=Xe(),i=se();return Ze(async a=>{var s;return K(i,"no wallet connected, cannot create listing"),K((s=e==null?void 0:e.direct)==null?void 0:s.createListing,"contract does not support direct.createListing"),await e.direct.createListing(a)},{onSuccess:()=>Promise.all([o.invalidateQueries(w(u.contract.marketplace.getAllListings(n),t)),o.invalidateQueries(w(u.contract.marketplace.getActiveListings(n),t))])})}r(Ki,"useCreateDirectListing");function Vi(e){let t=T(),n=e==null?void 0:e.getAddress(),o=Xe(),i=se();return Ze(async a=>{var s;return K(i,"no wallet connected, cannot create listing"),K((s=e==null?void 0:e.direct)==null?void 0:s.createListing,"contract does not support auction.createListing"),await e.auction.createListing(a)},{onSuccess:()=>Promise.all([o.invalidateQueries(w(u.contract.marketplace.getAllListings(n),t)),o.invalidateQueries(w(u.contract.marketplace.getActiveListings(n),t))])})}r(Vi,"useCreateAuctionListing");import{useMutation as fn,useQueryClient as hn}from"react-query";import ne from"tiny-invariant";function Ji(e){let t=e==null?void 0:e.getAddress();return b(u.contract.token.totalSupply(t),()=>(ne(e,"No Contract instance provided"),e.totalSupply()),{enabled:!!e||!!t})}r(Ji,"useTokenSupply");function Yi(e,t){let n=e==null?void 0:e.getAddress();return b(u.contract.token.balanceOf(n,t),async()=>(ne(e,"No Contract instance provided"),ne(t,"No address provided"),await e.balanceOf(t)),{enabled:!!t&&!!e})}r(Yi,"useTokenBalance");function $i(e){let t=T(),n=e==null?void 0:e.getAddress(),o=hn();return fn(i=>{var c;let{to:a,amount:s}=i;return ne((c=e==null?void 0:e.mint)==null?void 0:c.to,"contract does not support mint.to"),e.mint.to(a,s)},{onSuccess:(i,a)=>Promise.all([o.invalidateQueries(w(u.contract.token.totalSupply(n),t)),o.invalidateQueries(w(u.contract.token.balanceOf(n,a.to),t))])})}r($i,"useMintToken");export{xa as ChainId,Sa as IpfsStorage,Oe as MediaRenderer,Go as ThirdwebNftMedia,Vn as ThirdwebProvider,Ut as ThirdwebSDKProvider,Ca as defaultChains,va as defaultL2Chains,Ii as detectErc721Instance,wa as useAccount,T as useActiveChainId,Oi as useActiveListings,se as useAddress,Qi as useAllListings,x as useBuiltinContract,Te as useChainId,Mi as useClaimedNFTs,Li as useClaimedNftSupply,Kt as useCoinbaseWallet,M as useConnect,ci as useContract,li as useContractFunctions,ui as useContractMetadata,si as useContractPublishMetadata,ai as useContractType,Vi as useCreateAuctionListing,Ki as useCreateDirectListing,ke as useDesiredChainId,Qr as useDisconnect,Yn as useEdition,Zn as useEditionDrop,Ci as useEditionTotalCount,yi as useEditions,fo as useGnosis,Co as useMagic,or as useMarketplace,eo as useMetamask,vi as useMintEdition,Ni as useMintNFT,$i as useMintToken,sr as useNFTCollection,tr as useNFTDrop,Ti as useNFTSupply,mn as useNFTs,Io as useNetwork,Ao as useNetworkMismatch,lr as usePack,Gr as useReadonlySDK,qe as useResolvedMediaType,_ as useSDK,Ee as useSigner,xr as useSplit,mr as useToken,Yi as useTokenBalance,gr as useTokenDrop,Ji as useTokenSupply,Pi as useUnclaimedNFTs,Ui as useUnclaimedNftSupply,vr as useVote,oo as useWalletConnect,co as useWalletLink};
//# sourceMappingURL=index.mjs.map