{"ast":null,"code":"import _regeneratorRuntime from \"/Users/avirathtibrewala/Desktop/Builds/yt-nft/youtube-final-project-api-forked/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/avirathtibrewala/Desktop/Builds/yt-nft/youtube-final-project-api-forked/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/avirathtibrewala/Desktop/Builds/yt-nft/youtube-final-project-api-forked/src/Components/Form.js\";\n\nimport React, { useState, useRef, useContext } from \"react\";\nimport { TitleContext } from \"../App\";\nimport { LinkContext } from \"../App\";\n\nvar getYoutubeTitle = require(\"get-youtube-title\");\n\nvar Form = function Form(props) {\n  var videoUrl = useRef(); // const [videoLink, setVideoLink] = useState({});\n\n  var _useContext = useContext(LinkContext),\n      url = _useContext.url,\n      setUrl = _useContext.setUrl; // const [title, setTitle] = useState(null);\n\n\n  var _useContext2 = useContext(TitleContext),\n      title = _useContext2.title,\n      setTitle = _useContext2.setTitle;\n\n  var addVideo = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var url, embedCode, regExp, match, id;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              url = new URL(videoUrl.current.value);\n              embedCode = url.searchParams.get(\"v\");\n              console.log(url.href);\n              props.addVideo({\n                url: embedCode\n              }); //#endregion\n\n              regExp = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#&?]*).*/;\n              setUrl(url.href);\n              match = url.href.match(regExp);\n              id = match && match[7].length == 11 ? match[7] : false;\n              console.log(id); // getYoutubeTitle(id, function (err, title) {\n              //   console.log(title);\n              //   setTitle(title);\n              // });\n\n              _context.next = 11;\n              return getYoutubeTitle(id, function (err, title) {\n                console.log(title);\n                setTitle(title);\n              });\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function addVideo() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    ref: videoUrl,\n    placeholder: \"enter youtube url\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: addVideo,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, \"Submit\"));\n};\n\nexport default Form;","map":{"version":3,"names":["React","useState","useRef","useContext","TitleContext","LinkContext","getYoutubeTitle","require","Form","props","videoUrl","url","setUrl","title","setTitle","addVideo","URL","current","value","embedCode","searchParams","get","console","log","href","regExp","match","id","length","err"],"sources":["/Users/avirathtibrewala/Desktop/Builds/yt-nft/youtube-final-project-api-forked/src/Components/Form.js"],"sourcesContent":["import React, { useState, useRef, useContext } from \"react\";\nimport { TitleContext } from \"../App\";\nimport { LinkContext } from \"../App\";\nvar getYoutubeTitle = require(\"get-youtube-title\");\n\nconst Form = (props) => {\n  const videoUrl = useRef();\n  // const [videoLink, setVideoLink] = useState({});\n  const { url, setUrl } = useContext(LinkContext);\n  // const [title, setTitle] = useState(null);\n  const { title, setTitle } = useContext(TitleContext);\n\n  const addVideo = async () => {\n    let url = new URL(videoUrl.current.value);\n    const embedCode = url.searchParams.get(\"v\");\n    console.log(url.href);\n\n    props.addVideo({ url: embedCode });\n    //#endregion\n    var regExp =\n      /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#&?]*).*/;\n    setUrl(url.href);\n    var match = url.href.match(regExp);\n    const id = match && match[7].length == 11 ? match[7] : false;\n    console.log(id);\n    // getYoutubeTitle(id, function (err, title) {\n    //   console.log(title);\n    //   setTitle(title);\n    // });\n    await getYoutubeTitle(id, (err, title) => {\n      console.log(title);\n      setTitle(title);\n    });\n  };\n\n  return (\n    <div>\n      <input ref={videoUrl} placeholder=\"enter youtube url\" />\n      <button onClick={addVideo}>Submit</button>\n    </div>\n  );\n};\n\nexport default Form;\n"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,MAA1B,EAAkCC,UAAlC,QAAoD,OAApD;AACA,SAASC,YAAT,QAA6B,QAA7B;AACA,SAASC,WAAT,QAA4B,QAA5B;;AACA,IAAIC,eAAe,GAAGC,OAAO,CAAC,mBAAD,CAA7B;;AAEA,IAAMC,IAAI,GAAG,SAAPA,IAAO,CAACC,KAAD,EAAW;EACtB,IAAMC,QAAQ,GAAGR,MAAM,EAAvB,CADsB,CAEtB;;EACA,kBAAwBC,UAAU,CAACE,WAAD,CAAlC;EAAA,IAAQM,GAAR,eAAQA,GAAR;EAAA,IAAaC,MAAb,eAAaA,MAAb,CAHsB,CAItB;;;EACA,mBAA4BT,UAAU,CAACC,YAAD,CAAtC;EAAA,IAAQS,KAAR,gBAAQA,KAAR;EAAA,IAAeC,QAAf,gBAAeA,QAAf;;EAEA,IAAMC,QAAQ;IAAA,oEAAG;MAAA;MAAA;QAAA;UAAA;YAAA;cACXJ,GADW,GACL,IAAIK,GAAJ,CAAQN,QAAQ,CAACO,OAAT,CAAiBC,KAAzB,CADK;cAETC,SAFS,GAEGR,GAAG,CAACS,YAAJ,CAAiBC,GAAjB,CAAqB,GAArB,CAFH;cAGfC,OAAO,CAACC,GAAR,CAAYZ,GAAG,CAACa,IAAhB;cAEAf,KAAK,CAACM,QAAN,CAAe;gBAAEJ,GAAG,EAAEQ;cAAP,CAAf,EALe,CAMf;;cACIM,MAPW,GAQb,2EARa;cASfb,MAAM,CAACD,GAAG,CAACa,IAAL,CAAN;cACIE,KAVW,GAUHf,GAAG,CAACa,IAAJ,CAASE,KAAT,CAAeD,MAAf,CAVG;cAWTE,EAXS,GAWJD,KAAK,IAAIA,KAAK,CAAC,CAAD,CAAL,CAASE,MAAT,IAAmB,EAA5B,GAAiCF,KAAK,CAAC,CAAD,CAAtC,GAA4C,KAXxC;cAYfJ,OAAO,CAACC,GAAR,CAAYI,EAAZ,EAZe,CAaf;cACA;cACA;cACA;;cAhBe;cAAA,OAiBTrB,eAAe,CAACqB,EAAD,EAAK,UAACE,GAAD,EAAMhB,KAAN,EAAgB;gBACxCS,OAAO,CAACC,GAAR,CAAYV,KAAZ;gBACAC,QAAQ,CAACD,KAAD,CAAR;cACD,CAHoB,CAjBN;;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAH;;IAAA,gBAARE,QAAQ;MAAA;IAAA;EAAA,GAAd;;EAuBA,oBACE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAO,GAAG,EAAEL,QAAZ;IAAsB,WAAW,EAAC,mBAAlC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADF,eAEE;IAAQ,OAAO,EAAEK,QAAjB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,YAFF,CADF;AAMD,CApCD;;AAsCA,eAAeP,IAAf"},"metadata":{},"sourceType":"module"}